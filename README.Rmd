---
title: "IFPCA"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(tidyverse)
```

```{r}
url <- "https://raw.githubusercontent.com/celehs/MASTA/master/data-raw/long/"
follow_up_train <- read_csv(paste0(url, "follow_up_train.csv"))
follow_up_valid <- read_csv(paste0(url, "follow_up_valid.csv"))
time_code1 <- read_csv(paste0(url, "time_code1.csv"))
time_code2 <- read_csv(paste0(url, "time_code2.csv"))
time_code3 <- read_csv(paste0(url, "time_code3.csv"))
```

```{r}
fu_train <- follow_up_train$fu_time
fu_valid <- follow_up_valid$fu_time
names(fu_train) <- follow_up_train$id
names(fu_valid) <- follow_up_valid$id
```

```{r}
time1 <- time_code1$month
time2 <- time_code2$month
time3 <- time_code3$month
names(time1) <- time_code1$id
names(time2) <- time_code2$id
names(time3) <- time_code3$id
time <- list(time1, time2, time3)
```

```{r}
ifpca <- function(time, fu_train, fu_valid) {
  input <- list(
    time = time, 
    fu_train = fu_train, 
    fu_valid = fu_valid)
  return(str(input))
}
```

```{r}
ifpca(time, fu_train, fu_valid)
```


```{r}
proc.time()
```
